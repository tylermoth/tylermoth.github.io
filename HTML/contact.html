<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Moth Security - Contact</title>
  <link rel="stylesheet" href="css/Moth.css" />
</head>
<body>

<header>
  <img id="brand-logo" src="logo-light.png" alt="Moth Security Logo" class="logo">
  <h1>Moth Security</h1>
  <p>Don't ask, Don't Tell.</p>
  <button id="dark-mode-toggle">🌙 Dark Mode</button>

  <!-- Quick Links with box wrapper -->
  <div class="quick-links-box">
    <nav class="quick-links">
      <a class="nav-link" href="HTML/index.html">🏠 Home</a>
      <a class="nav-link" href="HTML/booking.html">📅 Booking</a>
      <a class="nav-link" href="HTML/contact.html">✉️ Contact</a>
      <a class="nav-link" href="HTML/services.html">🛡️ Services</a>
    </nav>
  </div>
</header>

<section>
  <h2>Send Us a Message</h2>
  <form id="contact-form">
    <input type="text" name="user_name" placeholder="Your Name" required>
    <input type="email" name="user_email" placeholder="Your Email" required>
    <textarea name="message" rows="4" placeholder="Your Message" required></textarea>
    <button type="submit">Send</button>
    <p id="form-status" class="status-message"></p>
  </form>
</section>

<!-- EmailJS -->
<script src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script>
  (function(){
    // Your EmailJS public key
    emailjs.init("EuQ36yumrNwgtE77Z");
  })();

  const form = document.getElementById('contact-form');
  const statusMsg = document.getElementById('form-status');
  const toggle = document.getElementById('dark-mode-toggle');
  const logo = document.getElementById('brand-logo');

  // Theme + logo initial state (match index.html behavior)
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const saved = localStorage.getItem('dark-mode');
  const startDark = saved ? JSON.parse(saved) : prefersDark;

  document.body.classList.toggle('dark-mode', startDark);
  logo.src = startDark ? 'logo-dark.png' : 'logo-light.png';
  toggle.textContent = startDark ? '☀️ Light Mode' : '🌙 Dark Mode';

  // Toggle theme & logo
  toggle.addEventListener('click', () => {
    const isDark = document.body.classList.toggle('dark-mode');
    logo.src = isDark ? 'logo-dark.png' : 'logo-light.png';
    toggle.textContent = isDark ? '☀️ Light Mode' : '🌙 Dark Mode';
    localStorage.setItem('dark-mode', isDark);
  });

  // Contact form (same service/template as index)
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    statusMsg.textContent = "Sending...";
    statusMsg.className = "status-message sending";

    emailjs.sendForm('service_tniimtl', 'template_0vxvx14', this)
      .then(() => {
        statusMsg.textContent = "Message sent successfully!";
        statusMsg.className = "status-message success";
        form.reset();
      })
      .catch(() => {
        statusMsg.textContent = "Failed to send message. Please try again.";
        statusMsg.className = "status-message error";
      });
  });
</script>

</body>
</html>
